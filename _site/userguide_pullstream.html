<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" pullstream">
<title>Pull a Stream | EvoStream</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://50.56.172.81:4000feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#mysidebar").navgoco('toggle', true);

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks nav-inc-size">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> EvoStream</span></a>
            <div class="btn-group release-btn-grp" role="group">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Release Version
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a href="/1.7-test/index.html">1.7</a></li>
                    <li><a href="/2.0-test/index.html">2.0</a></li>
                </ul>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="index.html">HOME</a></li>
                
                
                
                <li><a href="userguide_overview.html">USER GUIDE</a></li>
                
                
                
                <li><a href="api_overview.html">API GUIDE</a></li>
                
                
                
                <li><a href="html5players_ersoverview.html">HTML5 PLAYERS</a></li>
                
                
                
                <li><a href="emscloud_overview.html">EMS ON CLOUD</a></li>
                
                
                
                <li><a href="evowebservices_overview.html">EVOWEBSERVICES</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!-- Adding a Support Forum Link -->
                <li><a href="https://evostream.com/support-forum/" target="_blank">|&nbsp;&nbsp;Support Forum </a></li>
                <!--comment out this block if you want to hide search-->
                <li>
                    
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container fixed-fr">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          

















<!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                        <a href="/search.html" style="font-size: smaller; margin-left: 2px;"  >Advance Search</a>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Pull a Stream">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
<ul id="mysidebar" class="nav">

    <li class="sidebarTitle">User Guide </li>
    
    
    
        
    
    <li>
        <a href="#">Overview</a>
        <ul>
            
        </ul>
        
        
    
    <li>
        <a href="#">Getting Started</a>
        <ul>
            
            
            
            <li><a href="userguide_obtainlicense.html">Obtaining a License</a></li>
            
            
            
            
            
            
            <li><a href="userguide_installwinos.html">Installation on Windows OS</a></li>
            
            
            
            
            
            
            <li><a href="userguide_installlinuxos.html">Installation on Linux OS</a></li>
            
            
            
            
            
            
            <li><a href="userguide_installotheros.html">Installation on Other OS</a></li>
            
            
            
            
            
            
            <li><a href="userguide_filedescriptions.html">File Descriptions</a></li>
            
            
            
            
            
            
            <li><a href="userguide_startems.html">Starting EvoStream Media Server</a></li>
            
            
            
            
            
            
            <li><a href="userguide_connectui.html">Connecting to EMS Web UI</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">EMS Configuration Files</a>
        <ul>
            
            
            
            <li><a href="userguide_auth.html">auth.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_bandwidthlimits.html">bandwidthlimits.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_blacklist.html">blacklist.txt</a></li>
            
            
            
            
            
            
            <li><a href="userguide_configlua.html">config.lua</a></li>
            
            
            
            
            
            
            <li><a href="userguide_connlimits.html">connlimits.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_ingestpoints.html">ingestpoints.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_pushPullSetup.html">pushPullSetup.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_server.html">server.cert</a></li>
            
            
            
            
            
            
            <li><a href="userguide_serverkey.html">server.key</a></li>
            
            
            
            
            
            
            <li><a href="userguide_users.html">users.lua</a></li>
            
            
            
            
            
            
            <li><a href="userguide_webconfig.html">webconfig.lua</a></li>
            
            
            
            
            
            
            <li><a href="userguide_whitelist.html">whitelist.txt</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Using the EMS Web UI</a>
        <ul>
            
            
            
            <li><a href="userguide_signup.html">Sign Up</a></li>
            
            
            
            
            
            
            <li><a href="userguide_signin.html">Sign In</a></li>
            
            
            
            
            
            
            <li><a href="userguide_forgotpassword.html">Forgot Password</a></li>
            
            
            
            
            
            
            <li><a href="userguide_signout.html">Sign Out</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">The Web UI Dashboard</a>
        <ul>
            
            
            
            <li><a href="userguide_dashboard.html">EMS Dashboard</a></li>
            
            
            
            
            
            
            <li><a href="userguide_profile.html">Profile</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Working with Streams</a>
        <ul>
            
            
            
            <li><a href="userguide_add.html">Adding Streams</a></li>
            
            
            
            
            
            
            <li><a href="userguide_send.html">Sending Streams</a></li>
            
            
            
            
            
            
            <li><a href="userguide_active.html">Checking Active Streams</a></li>
            
            
            
            
            
            
            <li><a href="userguide_config.html">Configure Streams</a></li>
            
            
            
            
            
            
            <li><a href="userguide_vod.html">VOD Streams</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">API Explorer</a>
        <ul>
            
            
            
            <li><a href="userguide_apiexplorer.html">Using the API Explorer</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">How To's</a>
        <ul>
            
            
            
            <li><a href="userguide_telnet.html">Accessing the Run-Time API</a></li>
            
            
            
            
            
            
            <li class="active"><a href="userguide_pullstream.html">Pull a Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_pushstream.html">Push a Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_createhls.html">Create HLS Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_createdash.html">Create DASH Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_createhds.html">Create HDS Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_createmss.html">Create MSS Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_record.html">Record a Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_transcode.html">Transcode</a></li>
            
            
            
            
            
            
            <li><a href="userguide_vod.html">Adding Stream Authentication</a></li>
            
            
            
            
            
            
            <li><a href="userguide_vod.html">Blacklisting</a></li>
            
            
            
            
            
            
            <li><a href="userguide_vod.html">Using API Proxy Authentication</a></li>
            
            
            
            
            
            
            <li><a href="userguide_confevents.html">Configuring and Receiving Event Notifications</a></li>
            
            
            
            
            
            
            <li><a href="userguide_userdefined.html">Using User Defined Variables</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Appendix</a>
        <ul>
            
            
            
            <li><a href="userguide_emsdemo.html">EMS Demo.html</a></li>
            
            
            
            
            
            
            <li><a href="userguide_protocols.html">Protocol Support and Specifics</a></li>
            
            
            
            
            
            
            <li><a href="userguide_streamtypes.html">EMS Stream Types</a></li>
            
            
            
            
            
            
            <li><a href="userguide_basicdebugging.html">Basic Debugging</a></li>
            
            
            
            
        </ul>
        
        
        
        <!--&lt;!&ndash; if you aren't using the accordion, uncomment this block:-->
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           <!--&ndash;&gt;-->
    </li>
   
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        

<a style="margin-top: 38px; margin-bottom: -20px;" target="_blank" href="https://github.com/pages/userguide/userguide_pullstream.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>



<div class="post-header">
   <h1 class="post-title-main">Pull a Stream</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    

  <p>The EMS provides an extremely robust platform for stream protocol re-encapsulation. That is, the EMS will allow the translation from one streaming protocol to another protocol, allowing the reach to a wide range of video/audio clients, regardless of how the video/audio source is configured.</p>

<p>The first step to achieve protocol re-encapsulation is to get the original stream into the EMS. The most common method for doing this is by using the “<strong>Pull a Stream</strong>” mechanism, but other systems can also push a stream into the EMS.</p>

<p>The <code class="highlighter-rouge">pullStream</code> API provides a way to tell the EMS to retrieve an existing stream.</p>

<h2 id="how-to">How To</h2>

<p>Below are the examples of how to pull a stream in different formats:</p>

<h3 id="rtmp-stream">RTMP stream</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>pullStream uri=rtmp://&lt;STREAM_ADDRESS&gt; localStreamName=RTMPTest
</code></pre>
</div>

<h3 id="rtsp-stream">RTSP stream</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>pullStream uri=rtsp://&lt;STREAM_ADDRESS&gt; localStreamName=RTSPTest
</code></pre>
</div>

<h3 id="rtp---udp-stream">RTP - UDP stream</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>pullStream uri=rtp://&lt;STREAM_ADDRESS&gt; localStreamName=RTPTest isAudio=0 spsBytes=Z0LAHpZiA2P8vCAAAAMAIAAABgHixck= ppsBytes=aMuMsg==
</code></pre>
</div>

<h3 id="mpeg-ts-stream">MPEG-TS stream</h3>

<h4 id="udp-mpeg-tsstream">UDP MPEG-TS stream</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>pullStream uri=dmpegtsudp://&lt;STREAM_ADDRESS&gt;:&lt;PORT&gt; localStreamName=TSTest
</code></pre>
</div>

<p>This can be used for multicast streams as well. If the address of the stream is in the IP Multicast range, the EMS will automatically join the multicast group so that it can pull the stream.</p>

<h4 id="tcp-mpeg-ts">TCP MPEG-TS</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>pullStream uri=dmpegtstcp://&lt;STREAM_ADDRESS&gt;:&lt;PORT&gt; localStreamName=TSTest
</code></pre>
</div>

<p><strong>Note:</strong></p>

<p>The “<strong>d</strong>” in front of mpegts ( <strong>d</strong>mpegts) in the URIs above refers to “deep parsing”. Using the URI, the inbound MPEG-TS stream can be re-encapsulated into other protocols such RTMP or RTSP. If the only output format will be MPEG-TS (e.g. EMS is used as an MPEG-TS pass-through), then mpegtsudp and mpegtstcp can be used as the URI protocol specifier. This will speed the transfer of the MPEG-TS streams since no parsing will occur.</p>

<h3 id="local-sdp-file">LOCAL SDP FILE</h3>

<p>EMS is also capable in pulling an Session Description Protocol (SDP) file. An SDP is a format for describing the initialization parameters of streaming media sessions. SDP does not deliver media itself but is used for negotiation between end points of media type, format, and all associated properties.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pullStream uri=file://&lt;FILEPATH&gt;/FILENAME.sdp localStreamName=sdpFileTest
</code></pre>
</div>

<p><strong>Note:</strong></p>

<p>The SDP must reside in the file system accessible by EMS.</p>

<h2 id="json-cli-response">JSON CLI Response</h2>

<p><strong>API Call:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>pullstream uri=rtmp://s2pchzxmtymn2k.cloudfront.net/cfx/st/mp4:sintel.mp4 localStreamname=testpullstream
</code></pre>
</div>

<p><strong>JSON Response:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Command entered successfully!
Stream rtmp://s2pchzxmtymn2k.cloudfront.net/cfx/st/mp4:sintel.mp4 enqueued for p
ulling

    configId: 1
    forceTcp: false
    keepAlive: true
    localStreamName: testpullstream
    uri:
      fullUri: rtmp://s2pchzxmtymn2k.cloudfront.net/cfx/st/mp4:sintel.mp4
      port: 1935
      scheme: rtmp
</code></pre>
</div>

<h2 id="playing-a-pulled-steam">Playing a Pulled Steam</h2>

<p>Once a stream has been added to EMS, it can be accessed in a variety of ways. Through the streaming protocol translation offered by EMS, it is just a matter of requesting the stream in the format that the target player can accept, and the EMS will take care of the rest.</p>

<p>The basic commands in playing a pulled stream in EMS are the following:</p>

<ul>
  <li>
    <p><strong>RTMP</strong></p>

    <p>The format of the RTMP URI is as follows:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>rtmp[t|s]://[username[:password]@]ip[:port]/&lt;appName&gt;/&lt;stream_name&gt;
</code></pre>
    </div>

    <p>As an example, to play an RTMP stream, use the following URI in the Flash enabled player:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>rtmp://&lt;EMS_IP_ADDRESS&gt;/live/localStreamName
</code></pre>
    </div>
  </li>
  <li>
    <p><strong>RTMP</strong></p>

    <p>The format of the RTSP URI is as follows:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>rtsp://[username[:password]@]ip[:port]/[ts|vod|vodts]/&lt;stream_name or MP4 file name&gt;
</code></pre>
    </div>

    <p><strong>Note:</strong></p>

    <p>The command is very similar to RTMP, except for the absence of the “appName” field.</p>

    <p>As an example, to play an RTSP stream, the following URI in an RTSP enabled player can be used:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>rtsp://&lt;EMS_IP_ADDRESS&gt;:5544/localStreamName
</code></pre>
    </div>

    <p>By default, the EMS will send the video/audio payload data via RTP. If MPEG-TS is needed instead, simply specify it in the request URI:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>rtsp://&lt;EMS_IP_ADDRESS&gt;:5544/ts/localStreamName
</code></pre>
    </div>
  </li>
</ul>


    <div class="tags">
        
    </div>

    

</div>




    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>
<footer>
    <div class="container">
            <div class="row row-footer">

            <div class="col-lg-4 copyright col-md-4 col-sm-5">
               <p><img src="images/width-200.png" alt="Company logo"/></p>
               &copy;2017 EvoStream Inc. All rights reserved. <br />

                </div> 
                <div class="col-lg-3 col-md-3 col-sm-3">
                    <h3 class="widget-title">
                        <span>ABOUT US</span>
                    </h3>

                    <div class="menu">
                    <ul>
                        <li class="fa fa-linkedin"><a href="">Linkedln</a></li>
                        <li class="fa fa-twitter"><a href="">Twitter</a></li>
                        <li class="fa fa-lock"><a href="">Privacy Policy</a></li>
                        <li class="fa fa-book"><a href="">Glossary</a></li>
                    </ul>
                    </div>
                </div>
                <div class="col-lg-5 col-md-5 col-sm-4">
                   <h3 class="widget-title">
                        <span>CONTACT US</span>
                    </h3>

                    <div class="menu">
                    <ul>
                        <li class="fa fa-envelope-o"><a>salesupport@evostream.com</a></li>
                        <li class="fa fa-phone"><a href="">+1 858-454-9393</a></li>
                        <li class="fa fa-map-marker"><a>1010 Turquoise Street, Suite 101, San Diego, CA 92109, USA</a></li>                        
                    </ul>
                    </div>
                </div>





               
            </div>
    </div>
</footer>
</body>

</html>