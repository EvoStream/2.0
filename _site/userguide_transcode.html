<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" transcode">
<title>Transcode Streams | EvoStream</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://50.56.172.81:4000feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#mysidebar").navgoco('toggle', true);

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks nav-inc-size">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> EvoStream</span></a>
            <div class="btn-group release-btn-grp" role="group">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Release Version
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a href="/1.7-test/index.html">1.7</a></li>
                    <li><a href="/2.0-test/index.html">2.0</a></li>
                </ul>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="index.html">HOME</a></li>
                
                
                
                <li><a href="userguide_overview.html">USER GUIDE</a></li>
                
                
                
                <li><a href="api_overview.html">API GUIDE</a></li>
                
                
                
                <li><a href="html5players_ersoverview.html">HTML5 PLAYERS</a></li>
                
                
                
                <li><a href="emscloud_overview.html">EMS ON CLOUD</a></li>
                
                
                
                <li><a href="evowebservices_overview.html">EVOWEBSERVICES</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!-- Adding a Support Forum Link -->
                <li><a href="https://evostream.com/support-forum/" target="_blank">|&nbsp;&nbsp;Support Forum </a></li>
                <!--comment out this block if you want to hide search-->
                <li>
                    
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container fixed-fr">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          

















<!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                        <a href="/search.html" style="font-size: smaller; margin-left: 2px;"  >Advance Search</a>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Transcode Streams">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
<ul id="mysidebar" class="nav">

    <li class="sidebarTitle">User Guide </li>
    
    
    
        
    
    <li>
        <a href="#">Overview</a>
        <ul>
            
        </ul>
        
        
    
    <li>
        <a href="#">Getting Started</a>
        <ul>
            
            
            
            <li><a href="userguide_obtainlicense.html">Obtaining a License</a></li>
            
            
            
            
            
            
            <li><a href="userguide_installwinos.html">Installation on Windows OS</a></li>
            
            
            
            
            
            
            <li><a href="userguide_installlinuxos.html">Installation on Linux OS</a></li>
            
            
            
            
            
            
            <li><a href="userguide_installotheros.html">Installation on Other OS</a></li>
            
            
            
            
            
            
            <li><a href="userguide_filedescriptions.html">File Descriptions</a></li>
            
            
            
            
            
            
            <li><a href="userguide_startems.html">Starting EvoStream Media Server</a></li>
            
            
            
            
            
            
            <li><a href="userguide_connectui.html">Connecting to EMS Web UI</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">EMS Configuration Files</a>
        <ul>
            
            
            
            <li><a href="userguide_auth.html">auth.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_bandwidthlimits.html">bandwidthlimits.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_blacklist.html">blacklist.txt</a></li>
            
            
            
            
            
            
            <li><a href="userguide_configlua.html">config.lua</a></li>
            
            
            
            
            
            
            <li><a href="userguide_connlimits.html">connlimits.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_ingestpoints.html">ingestpoints.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_pushPullSetup.html">pushPullSetup.xml</a></li>
            
            
            
            
            
            
            <li><a href="userguide_server.html">server.cert</a></li>
            
            
            
            
            
            
            <li><a href="userguide_serverkey.html">server.key</a></li>
            
            
            
            
            
            
            <li><a href="userguide_users.html">users.lua</a></li>
            
            
            
            
            
            
            <li><a href="userguide_webconfig.html">webconfig.lua</a></li>
            
            
            
            
            
            
            <li><a href="userguide_whitelist.html">whitelist.txt</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Using the EMS Web UI</a>
        <ul>
            
            
            
            <li><a href="userguide_signup.html">Sign Up</a></li>
            
            
            
            
            
            
            <li><a href="userguide_signin.html">Sign In</a></li>
            
            
            
            
            
            
            <li><a href="userguide_forgotpassword.html">Forgot Password</a></li>
            
            
            
            
            
            
            <li><a href="userguide_signout.html">Sign Out</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">The Web UI Dashboard</a>
        <ul>
            
            
            
            <li><a href="userguide_dashboard.html">EMS Dashboard</a></li>
            
            
            
            
            
            
            <li><a href="userguide_profile.html">Profile</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Working with Streams</a>
        <ul>
            
            
            
            <li><a href="userguide_add.html">Adding Streams</a></li>
            
            
            
            
            
            
            <li><a href="userguide_send.html">Sending Streams</a></li>
            
            
            
            
            
            
            <li><a href="userguide_active.html">Checking Active Streams</a></li>
            
            
            
            
            
            
            <li><a href="userguide_config.html">Configure Streams</a></li>
            
            
            
            
            
            
            <li><a href="userguide_vod.html">VOD Streams</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">API Explorer</a>
        <ul>
            
            
            
            <li><a href="userguide_apiexplorer.html">Using the API Explorer</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">How To's</a>
        <ul>
            
            
            
            <li><a href="userguide_telnet.html">Accessing the Run-Time API</a></li>
            
            
            
            
            
            
            <li><a href="userguide_pullstream.html">Pull a Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_pushstream.html">Push a Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_createhls.html">Create HLS Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_createdash.html">Create DASH Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_createhds.html">Create HDS Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_createmss.html">Create MSS Stream</a></li>
            
            
            
            
            
            
            <li><a href="userguide_record.html">Record a Stream</a></li>
            
            
            
            
            
            
            <li class="active"><a href="userguide_transcode.html">Transcode</a></li>
            
            
            
            
            
            
            <li><a href="userguide_vod.html">Adding Stream Authentication</a></li>
            
            
            
            
            
            
            <li><a href="userguide_vod.html">Blacklisting</a></li>
            
            
            
            
            
            
            <li><a href="userguide_vod.html">Using API Proxy Authentication</a></li>
            
            
            
            
            
            
            <li><a href="userguide_confevents.html">Configuring and Receiving Event Notifications</a></li>
            
            
            
            
            
            
            <li><a href="userguide_userdefined.html">Using User Defined Variables</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Appendix</a>
        <ul>
            
            
            
            <li><a href="userguide_emsdemo.html">EMS Demo.html</a></li>
            
            
            
            
            
            
            <li><a href="userguide_protocols.html">Protocol Support and Specifics</a></li>
            
            
            
            
            
            
            <li><a href="userguide_streamtypes.html">EMS Stream Types</a></li>
            
            
            
            
            
            
            <li><a href="userguide_basicdebugging.html">Basic Debugging</a></li>
            
            
            
            
        </ul>
        
        
        
        <!--&lt;!&ndash; if you aren't using the accordion, uncomment this block:-->
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           <!--&ndash;&gt;-->
    </li>
   
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        

<a style="margin-top: 38px; margin-bottom: -20px;" target="_blank" href="https://github.com/pages/userguide/userguide_transcode.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>



<div class="post-header">
   <h1 class="post-title-main">Transcode Streams</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    

  <p>The EMS is packaged with a software encoder which provides a wide variety of additional functionality to the EMS. EvoStream has chosen  LibAV’s AVConv encoder to be distributed, unmodified, along with the EMS. Source code for AVConv can be found at <a href="http://libav.org/download.html">http://libav.org/download.html</a>. EvoStream complies fully with the GPL in relation to the distribution of AVConv.</p>

<p><strong>The EMS can be easily configured to use ANY software encoder. If a different software encoder is desired, the integration requires only a change to a script, something that can be done on-demand.</strong></p>

<p>Transcoding is an inherently complicated process, given the huge variety of options available for compressing audio and video. The EMS provides a simple <code class="highlighter-rouge">transcode</code> API which makes the entire process very easy.</p>

<p><strong>Note:</strong></p>

<p>Transcoding requires <strong>SIGNIFICANT</strong> computing resources and will severely impact performance. A general conservative guideline is that to accomplish one transcoding job per CPU core for HD streams.</p>

<h2 id="how-to">How To</h2>

<h3 id="changing-stream-bitrates">Changing Stream Bitrates</h3>

<p>A common use case for transcoding involves the “translating”(down-scaling) of an HD stream into lower bitrates to support Adaptive Streaming protocols and smaller clients like Android and iOS devices.</p>

<p>The simplest way to accomplish this is to bring the original HD stream into the EMS. You can then issue a command similar to the following to create multiple streams with lower bitrates:</p>

<p><strong>Format:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=rtmp://&lt;stream_source&gt; groupName=&lt;groupName&gt; videoBitrates=&lt;bitrate&gt; destinations=&lt;destinationName&gt;
</code></pre>
</div>

<p><strong>Sample API Call:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=rtmp://s2pchzxmtymn2k.cloudfront.net/cfx/st/mp4:sintel.mp4 groupName=group1 videoBitrates=100k,200k,300k destinations=stream100,stream200,stream300
</code></pre>
</div>

<p><strong>JSON Response:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Command entered successfully!
Transcoding successfully started.

    audioBitrates:
      -- na
      -- na
      -- na
    croppings:
      -- na
      -- na
      -- na
    destinations:
      -- stream100
      -- stream200
      -- stream300
    dstUriPrefix: -f flv tcp://localhost:6666/
    emsTargetStreamName: stream300
    fullBinaryPath: C:\EvoStream_171\emsTranscoder.bat
    groupName: group1
    keepAlive: true
    localStreamName:
    source: rtmp://s2pchzxmtymn2k.cloudfront.net/cfx/st/mp4:sintel.mp4
    srcUriPrefix: rtsp://localhost:5544/
    targetStreamNames:
      -- stream100
      -- stream200
      -- stream300
    videoBitrates:
      -- 100k
      -- 200k
      -- 300k
    videoSizes:
      -- na
      -- na
      -- na
</code></pre>
</div>

<p>This command takes the <strong>Source1</strong> stream and creates 3 new streams within the EMS. <strong>stream100</strong> has a bit rate of 100kbps, <strong>stream200</strong> has a bit rate of 200kbps and <strong>stream300</strong> has a bit rate of 300kbps. You can check the created streams by sending <code class="highlighter-rouge">listStreams</code>.</p>

<p>You can then take each of those final streams and access them directly (IE: via RTMP or RTSP), or you can create an HLS group out of them to create an adaptive bitrate stream for iOS devices:</p>

<p><strong>Creating HLS from Transcoded Stream:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>createhlsstream localstreamnames=stream100,stream200,stream300 targetfolder=/mywebroot/hls groupname=MyGroup playlisttype=rolling playlistLength=10 chunkLength=20
</code></pre>
</div>

<h3 id="using-different-codecs">Using Different Codecs</h3>

<p>The EMS requires streams to be of type H.264/AAC, but that may not be the format your stream source is in. The EMS Transcoder can be used to convert your source stream into H.264/AAC:</p>

<p><strong>Format:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=&lt;stream_source&gt;/localStreamName groupName=&lt;groupName&gt; videoBitrates=&lt;bitrate&gt; audioBitrates=&lt;bitrate&gt; destinations=&lt;destinationName&gt;
</code></pre>
</div>

<p><strong>Sample API Call:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=rtsp://IpOfStreamSource:554/myStream groupName=group1 videoBitrates=5000k audioBitrates=800k destinations=myTranscodedStream
</code></pre>
</div>

<p><strong>JSON Response:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Command entered successfully!
Transcoding successfully started.

    audioBitrates:
      -- 800k
    croppings:
      -- na
    destinations:
      -- myTranscodedStream
    dstUriPrefix: -f flv tcp://localhost:6666/
    emsTargetStreamName: myTranscodedStream
    fullBinaryPath: C:\EvoStream_171\emsTranscoder.bat
    groupName: group1
    keepAlive: true
    localStreamName:
    source: rtsp://127.0.0.1:5544/myStream
    srcUriPrefix: rtsp://localhost:5544/
    targetStreamNames:
      -- myTranscodedStream
    videoBitrates:
      -- 5000k
    videoSizes:
      -- na
</code></pre>
</div>

<p>This command pulls the source stream from its RTSP source directly, transcodes it, and passes it to the EMS as the <code class="highlighter-rouge">destinationName</code>. The <code class="highlighter-rouge">videoBitrates</code> parameter <strong>must</strong> be specified when transcoding the video codec. The <code class="highlighter-rouge">audioBitrates</code> parameter must be specified when transcoding the audio codec. If either the audio or video does not need to be transcoded, that parameter may be skipped. Here it is assumed that the source stream has a video bit rate of around 5Mbps and audio bitrate of around 800kbps.</p>

<h3 id="use-files-as-input-andor-output">Use files as input and/or output:</h3>

<p>This will change your input stream to an output file, or an input file to an output file.</p>

<p><strong>Format:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=file://path_to_sourceFile groupName=group videoBitrates=&lt;bitrate&gt; audioBitrates=&lt;bitrate&gt; destinations=file://path_to_outputFile
</code></pre>
</div>

<p><strong>Sample API Call:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=file://C:\EvoStream\media\bunny.mp4 groupName=group1 videoBitrates=100k audioBitrates=copy destinations=file://C:\EvoStream\media\transcoded.mp4 keepAlive=0
</code></pre>
</div>

<p><strong>JSON Response:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Command entered successfully!
Transcoding successfully started.

    audioBitrates:
      -- copy
    croppings:
      -- na
    destinations:
      -- file://C:\EvoStream\media\transcoded.mp4
    dstUriPrefix: -f flv tcp://localhost:6666/
    emsTargetStreamName:
    fullBinaryPath: C:\EvoStream\emsTranscoder.bat
    groupName: group1
    keepAlive: false
    localStreamName:
    source: file://C:\EvoStream\media\bunny.mp4
    srcUriPrefix: rtsp://localhost:5544/
    targetStreamNames:
      -- na
    videoBitrates:
      -- 100k
    videoSizes:
      -- na
</code></pre>
</div>

<h3 id="video-overlays---watermarking">Video Overlays - Watermarking</h3>

<p>The EMS Transcoder may be used to generate overlays on top of your videos. PNG or JPEG images with alpha layers (transparency) should be used. <strong>The image must be at the same or smaller resolution (height and width) of the video you are overlaying</strong>. The overlay file will be placed at the top-left corner of the video. To create the overlay, simply issue the following command:</p>

<p><strong>Format:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=&lt;localStreamName&gt; groupName=&lt;groupName&gt; overlays0=&lt;path/to/image.ext&gt; destinations=destinationName
</code></pre>
</div>

<p><strong>Sample API Call:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=myStream groupName=group1 overlays=/path/to/evologo.jpg destinations=OverlayedStream
</code></pre>
</div>

<p><strong>JSON Response:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Command entered successfully!
Transcoding successfully started.

    audioBitrates:
      -- na
    croppings:
      -- na
    destinations:
      -- OverlayedStream
    dstUriPrefix: -f flv tcp://localhost:6666/
    emsTargetStreamName: OverlayedStream
    fullBinaryPath: C:\EvoStream_171\emsTranscoder.bat
    groupName: group1
    keepAlive: true
    localStreamName: myStream
    source: stream100
    srcUriPrefix: rtsp://localhost:5544/
    targetStreamNames:
      -- OverlayedStream
    videoBitrates:
      -- na
    videoSizes:
      -- na
</code></pre>
</div>

<h3 id="cropping">Cropping</h3>

<p>In some cases, you may want to crop a video and focus on just a portion of the video. The EMS Transcoder supports video cropping.</p>

<p><strong>Format:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=&lt;localStreamName&gt; groupName=&lt;groupName&gt; croppings=&lt;horizontalPosition:verticalPosition:width:height&gt; destinations=destinationName
</code></pre>
</div>

<p><strong>Sample API:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=myStream groupName=group1 croppings=0:0:50:50 destinations=CroppedStream
</code></pre>
</div>

<p><strong>JSON Response:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Command entered successfully!
Transcoding successfully started.

    audioBitrates:
      -- na
    croppings:
      -- 0:0:50:50
    destinations:
      -- CroppedStream
    dstUriPrefix: -f flv tcp://localhost:6666/
    emsTargetStreamName: CroppedStream
    fullBinaryPath: C:\EvoStream_171\emsTranscoder.bat
    groupName: group1
    keepAlive: true
    localStreamName: myStream
    source: myStream
    srcUriPrefix: rtsp://localhost:5544/
    targetStreamNames:
      -- CroppedStream
    videoBitrates:
      -- na
    videoSizes:
      -- na

</code></pre>
</div>

<p>This creates a resultant stream containing only a square 50px by 50px from the top right corner of the video. The format for the <code class="highlighter-rouge">croppings</code> parameter horizontalPosition:verticalPosition:width:height where horizontalPosition=0 at leftmost pixel, verticalPosition=0 at uppermost pixel.</p>

<h3 id="force-tcp-for-inbound-rtsp">Force TCP for inbound RTSP</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>transcode source=rtmp://&lt;RTMP server&gt;/live/streamname groupName=group videoBitrates=copy videoSizes=360x200 $EMS_RTSP_TRANSPORT=tcp
</code></pre>
</div>

<h2 id="stopping-transcoding-processes">Stopping Transcoding Process(es)</h2>

<p>You need to Issue a <code class="highlighter-rouge">removeconfig</code> API to stop the transcoding.</p>

<p><strong>Format:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>removeConfig groupName=&lt;groupName&gt;
</code></pre>
</div>

<p><strong>Sample API Call:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>removeConfig groupName=group1
</code></pre>
</div>

<p><strong>JSON Response:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Command entered successfully!
Configuration terminated
</code></pre>
</div>

<p>All transcoding processes under <strong>group1</strong> will be removed.</p>

<h2 id="enable-transcode-logs">Enable Transcode Logs</h2>

<p>The <code class="highlighter-rouge">transcode</code> command calls the emsTranscoder.sh. The logs will help you determine the root cause of the <code class="highlighter-rouge">transcode</code> issue. You can enable the <code class="highlighter-rouge">transcode</code> logs by doing the following:</p>

<ol>
  <li>
    <p>Enable <code class="highlighter-rouge">transcode</code> logs by removing the comment</p>

    <p><strong>in Windows: emsTranscoder.bat</strong></p>

    <div class="highlighter-rouge"><pre class="highlight"><code>rem echo %TRANSCODER_BIN% %TRANSCODE%   //remove rem
</code></pre>
    </div>

    <p><strong>in Linux: emsTranscoder.sh</strong></p>

    <div class="highlighter-rouge"><pre class="highlight"><code>#echo "$TRANSCODER_BIN $TRANSCODE"     //remove #
</code></pre>
    </div>
  </li>
  <li>
    <p>Run EMS Console, do the <code class="highlighter-rouge">transcode</code> command,  it will also print to the screen the evo-avconv command that it is executing</p>
  </li>
  <li>
    <p>Copy the evo-avconv result</p>

    <p><strong>Sample log:</strong></p>

    <div class="highlighter-rouge"><pre class="highlight"><code>evo-avconv -y -i rtmp://s2pchzxmtymn2k.cloudfront.net/cfx/st/mp4:sintel.mp4 -b:v 100K -c:v libx264 -c:a copy -metadata streamName=testTransDest rtmp://192.168.2.35/live/testTransDest
</code></pre>
    </div>
  </li>
  <li>
    <p>Paste the evo-avconv result in new console (locate in evo-avconv executable)</p>

    <p><strong>Sample log:</strong></p>

    <div class="highlighter-rouge"><pre class="highlight"><code>C:\EvoStream&gt;evo-avconv -y -i rtmp://s2pchzxmtymn2k.cloudfront.net/cfx/st/mp4:sintel.mp4 -b:v 10
0K -c:v libx264 -c:a copy -metadata streamName=testTransDest rtmp://192.168.2.35/live/testTransDest
avconv version 11.3, Copyright (c) 2000-2014 the Libav developers
  built on Jul 15 2015 10:16:52 with gcc 4.8 (GCC)
[flv @ 0000000000302da0] max_analyze_duration 5000000 reached
Input #0, flv, from 'rtmp://s2pchzxmtymn2k.cloudfront.net/cfx/st/mp4:sintel.mp4':
  Metadata:
    moovPosition    : 40
    avcprofile      : 66
    avclevel        : 30
    aacaot          : 2
    videoframerate  : 24
    audiochannels   : 2
    ┬⌐too           : Lavf52.84.0
    length          : 2293760
    timescale       : 44100
    sampletype      : mp4a
  Duration: 00:00:52.20, start: 0.000000, bitrate: N/A
    Stream #0.0: Video: h264 (Constrained Baseline), yuv420p, 720x306 [PAR 254:255 DAR 2032:867], 24
 fps, 1k tbn, 48 tbc
    Stream #0.1: Audio: aac, 44100 Hz, stereo, fltp
Unable to find a suitable output format for 'rtmp://192.168.2.35/live/testTransDest'
</code></pre>
    </div>
  </li>
</ol>


    <div class="tags">
        
    </div>

    

</div>




    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>
<footer>
    <div class="container">
            <div class="row row-footer">

            <div class="col-lg-4 copyright col-md-4 col-sm-5">
               <p><img src="images/width-200.png" alt="Company logo"/></p>
               &copy;2017 EvoStream Inc. All rights reserved. <br />

                </div> 
                <div class="col-lg-3 col-md-3 col-sm-3">
                    <h3 class="widget-title">
                        <span>ABOUT US</span>
                    </h3>

                    <div class="menu">
                    <ul>
                        <li class="fa fa-linkedin"><a href="">Linkedln</a></li>
                        <li class="fa fa-twitter"><a href="">Twitter</a></li>
                        <li class="fa fa-lock"><a href="">Privacy Policy</a></li>
                        <li class="fa fa-book"><a href="">Glossary</a></li>
                    </ul>
                    </div>
                </div>
                <div class="col-lg-5 col-md-5 col-sm-4">
                   <h3 class="widget-title">
                        <span>CONTACT US</span>
                    </h3>

                    <div class="menu">
                    <ul>
                        <li class="fa fa-envelope-o"><a>salesupport@evostream.com</a></li>
                        <li class="fa fa-phone"><a href="">+1 858-454-9393</a></li>
                        <li class="fa fa-map-marker"><a>1010 Turquoise Street, Suite 101, San Diego, CA 92109, USA</a></li>                        
                    </ul>
                    </div>
                </div>





               
            </div>
    </div>
</footer>
</body>

</html>